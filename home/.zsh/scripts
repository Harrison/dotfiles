# find shorthand
f() {
    find . -name "$1"
}

# Start an HTTP server from a directory, optionally specifying the port
server() {
    local port="${1:-8000}"
    open "http://localhost:${port}/"
    # Set the default Content-Type to `text/plain` instead of `application/octet-stream`
    # And serve everything as UTF-8 (although not technically correct, this doesnâ€™t break anything for binary files)
    python -c $'import SimpleHTTPServer;\nmap = SimpleHTTPServer.SimpleHTTPRequestHandler.extensions_map;\nmap[""] = "text/plain";\nfor key, value in map.items():\n\tmap[key] = value + ";charset=UTF-8";\nSimpleHTTPServer.test();' "$port"
}

# NTFS Write support
# diskutil list
# Find disk identifier for NTFS drive (e.g. disk2s1)
# sudo mkdir /Volumes/NTFS-3G
# sudo /usr/local/bin/ntfs-3g /dev/disk2s1 /Volumes/NTFS-3G -olocal -oallow_other

chrome() {
    /Applications/Google\ Chrome\ Canary.app/Contents/MacOS/Google\ Chrome\ Canary \
        --js-flags="--trace-opt --trace-deopt --trace-bailout" \
        --allow-file-access \
        --disable-web-security \
        --remote-debugging-port=9222 \
        --js-flags=--harmony
}

git-rebase-master() {
    git fetch origin
    git rebase --interactive --autostash --autosquash origin/master
}

git-rebase-continue() {
    git add --all
    git commit --no-edit
    git rebase --continue
}

# Find processes running on port
open-port() {
  lsof -Pn -i4 | grep $1
}
